/**
 * å›ºå®šã‚¹ãƒ†ãƒƒãƒ—ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
 * ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«äº‹å‰å®šç¾©ã•ã‚ŒãŸã‚¹ãƒ†ãƒƒãƒ—ã‚’æä¾›
 */

import { GeneratedStep, ImageCategory } from "@/types/analysis";

// ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»ç”¨ã®å›ºå®šã‚¹ãƒ†ãƒƒãƒ—
const CHARACTER_STEPS: GeneratedStep[] = [
  {
    stepNumber: 1,
    title: "ä¸‹æ›¸ããƒ»ç·šç”»",
    description:
      "ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»åƒã®å½¢çŠ¶ã¨æ¯”çŽ‡ã‚’ä¿æŒã—ãŸã¾ã¾ã€ç™½ã„èƒŒæ™¯ã«é»’ã„ç·šã ã‘ã®ç·šç”»ã«å¤‰æ›ã—ã¾ã™ã€‚",
    stepType: "lineart",
    tips: ["å…ƒç”»åƒã®æ§‹å›³ã‚’æ­£ç¢ºã«ä¿ã¤", "ç·šã®å¤ªã•ã‚’å‡ä¸€ã«ã™ã‚‹"],
    estimatedDuration: 15,
    techniques: ["ç·šç”»", "è¼ªéƒ­æå†™"],
  },
  {
    stepNumber: 2,
    title: "èƒŒæ™¯å¡—ã‚Š",
    description:
      "èƒŒæ™¯å…¨ä½“ã‚’å…ƒç”»åƒã¨åŒã˜è‰²ã§å¡—ã‚Šã¾ã™ã€‚ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼éƒ¨åˆ†ã¯ç™½é»’ç·šç”»ã®ã¾ã¾æ®‹ã—ã¾ã™ã€‚",
    stepType: "background",
    tips: ["å…ƒç”»åƒã®èƒŒæ™¯ã‚’è©³ç´°ã«è¦³å¯Ÿ", "ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼éƒ¨åˆ†ã¯çµ¶å¯¾ã«å¡—ã‚‰ãªã„"],
    estimatedDuration: 25,
    techniques: ["èƒŒæ™¯å¡—ã‚Š", "è‰²è¦³å¯Ÿ", "å¢ƒç•Œèªè­˜"],
  },
  {
    stepNumber: 3,
    title: "ä¸»è¦éƒ¨åˆ†å¡—ã‚Š",
    description:
      "ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è‚Œãƒ»æœãƒ»é«ªãªã©ä¸»è¦ãªéƒ¨åˆ†ã‚’å…ƒç”»åƒã¨åŒã˜è‰²ã§å¡—ã‚Šåˆ†ã‘ã¾ã™ã€‚",
    stepType: "main_part",
    tips: ["è‰²ã‚’æ­£ç¢ºã«è¦³å¯Ÿã—ã¦å†ç¾", "éƒ¨ä½ã”ã¨ã«ä¸å¯§ã«å¡—ã‚Šåˆ†ã‘ã‚‹"],
    estimatedDuration: 35,
    techniques: ["åŸºæœ¬å¡—ã‚Š", "è‰²åˆ†ã‘å¡—ã‚Š", "ç´°éƒ¨å¡—ã‚Š"],
  },
  {
    stepNumber: 4,
    title: "ç´°éƒ¨ãƒ»ä»•ä¸Šã’",
    description:
      "ç”»åƒã«ã‚ã‚‹è¦ç´ ï¼ˆç›®ãƒ»å£ãƒ»é¼»ãƒ»çœ‰æ¯›ãªã©ï¼‰ã®ç´°éƒ¨ã‚’ãƒ–ãƒ©ãƒƒã‚¯ã§æãè¾¼ã¿ã€ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’ç™½ã§åŠ ãˆã¦å…¨ä½“ã‚’ä»•ä¸Šã’ã¾ã™ã€‚ç”»åƒã«ãªã„è¦ç´ ã¯æãåŠ ãˆãšã€ç”»åƒé€šã‚Šã«ä»•ä¸Šã’ã¦ãã ã•ã„ã€‚",
    stepType: "details",
    tips: ["ç´°ã„ç­†ã‚’ä½¿ç”¨", "å…¨ä½“ã®ãƒãƒ©ãƒ³ã‚¹ã‚’ç¢ºèªã—ãªãŒã‚‰èª¿æ•´"],
    estimatedDuration: 25,
    techniques: ["ç´°éƒ¨æå†™", "ãƒã‚¤ãƒ©ã‚¤ãƒˆ", "ä»•ä¸Šã’"],
  },
];

// é¢¨æ™¯ç”»ç”¨ã®å›ºå®šã‚¹ãƒ†ãƒƒãƒ—
const LANDSCAPE_STEPS: GeneratedStep[] = [
  {
    stepNumber: 1,
    title: "ä¸‹æ›¸ããƒ»ç·šç”»",
    description:
      "ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»åƒã®å½¢çŠ¶ã¨æ¯”çŽ‡ã‚’ä¿æŒã—ãŸã¾ã¾ã€ç™½ã„èƒŒæ™¯ã«é»’ã„ç·šã ã‘ã®ç·šç”»ã«å¤‰æ›ã—ã¾ã™ã€‚",
    stepType: "lineart",
    tips: ["å…ƒç”»åƒã®æ§‹å›³ã‚’æ­£ç¢ºã«ä¿ã¤", "ç·šã®å¤ªã•ã‚’å‡ä¸€ã«ã™ã‚‹"],
    estimatedDuration: 15,
    techniques: ["ç·šç”»", "è¼ªéƒ­æå†™"],
  },
  {
    stepNumber: 2,
    title: "èƒŒæ™¯å¡—ã‚Š",
    description:
      "ç©ºã‚„é æ™¯ãªã©èƒŒæ™¯éƒ¨åˆ†ã‚’å…ƒç”»åƒã¨åŒã˜è‰²ã§å¡—ã‚Šã¾ã™ã€‚å‰æ™¯ã¯ç™½é»’ç·šç”»ã®ã¾ã¾æ®‹ã—ã¾ã™ã€‚",
    stepType: "background",
    tips: ["ç©ºã®è‰²ã‚’æ­£ç¢ºã«å†ç¾", "å‰æ™¯ã¯å¡—ã‚‰ãªã„"],
    estimatedDuration: 25,
    techniques: ["èƒŒæ™¯å¡—ã‚Š", "ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³"],
  },
  {
    stepNumber: 3,
    title: "ä¸»è¦éƒ¨åˆ†å¡—ã‚Š",
    description: "å±±ãƒ»æœ¨ãƒ»å»ºç‰©ãªã©ä¸»è¦ãªè¦ç´ ã‚’å…ƒç”»åƒã¨åŒã˜è‰²ã§å¡—ã‚Šã¾ã™ã€‚",
    stepType: "main_part",
    tips: ["è‡ªç„¶ãªè‰²ã‚’å†ç¾", "é è¿‘æ„Ÿã‚’æ„è­˜"],
    estimatedDuration: 30,
    techniques: ["åŸºæœ¬å¡—ã‚Š", "è‰²åˆ†ã‘å¡—ã‚Š"],
  },
  {
    stepNumber: 4,
    title: "ç´°éƒ¨ãƒ»ä»•ä¸Šã’",
    description:
      "è‘‰ã£ã±ãƒ»é›²ãƒ»æ°´é¢ãªã©ã®ç´°éƒ¨ã‚’æãè¾¼ã¿ã€å…¨ä½“ã®è³ªæ„Ÿã‚’ä»•ä¸Šã’ã¾ã™ã€‚",
    stepType: "details",
    tips: ["è³ªæ„Ÿã‚’æ„è­˜", "å…¨ä½“ã®ãƒãƒ©ãƒ³ã‚¹ç¢ºèª"],
    estimatedDuration: 20,
    techniques: ["ç´°éƒ¨æå†™", "è³ªæ„Ÿè¡¨ç¾", "ä»•ä¸Šã’"],
  },
];

// é™ç‰©ç”»ç”¨ã®å›ºå®šã‚¹ãƒ†ãƒƒãƒ—
const STILL_LIFE_STEPS: GeneratedStep[] = [
  {
    stepNumber: 1,
    title: "ä¸‹æ›¸ããƒ»ç·šç”»",
    description:
      "ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»åƒã®å½¢çŠ¶ã¨æ¯”çŽ‡ã‚’ä¿æŒã—ãŸã¾ã¾ã€ç™½ã„èƒŒæ™¯ã«é»’ã„ç·šã ã‘ã®ç·šç”»ã«å¤‰æ›ã—ã¾ã™ã€‚",
    stepType: "lineart",
    tips: ["å…ƒç”»åƒã®æ§‹å›³ã‚’æ­£ç¢ºã«ä¿ã¤", "ç·šã®å¤ªã•ã‚’å‡ä¸€ã«ã™ã‚‹"],
    estimatedDuration: 15,
    techniques: ["ç·šç”»", "è¼ªéƒ­æå†™"],
  },
  {
    stepNumber: 2,
    title: "èƒŒæ™¯å¡—ã‚Š",
    description:
      "èƒŒæ™¯éƒ¨åˆ†ã‚’å…ƒç”»åƒã¨åŒã˜è‰²ã§å¡—ã‚Šã¾ã™ã€‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ç™½é»’ç·šç”»ã®ã¾ã¾æ®‹ã—ã¾ã™ã€‚",
    stepType: "background",
    tips: ["èƒŒæ™¯è‰²ã‚’æ­£ç¢ºã«å†ç¾", "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯å¡—ã‚‰ãªã„"],
    estimatedDuration: 20,
    techniques: ["èƒŒæ™¯å¡—ã‚Š", "å¹³å¡—ã‚Š"],
  },
  {
    stepNumber: 3,
    title: "ä¸»è¦éƒ¨åˆ†å¡—ã‚Š",
    description: "ãƒ¡ã‚¤ãƒ³ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚„å»ºç‰©ã‚’å…ƒç”»åƒã¨åŒã˜è‰²ã§å¡—ã‚Šã¾ã™ã€‚",
    stepType: "main_part",
    tips: ["è³ªæ„Ÿã‚’æ„è­˜", "è‰²ã‚’æ­£ç¢ºã«è¦³å¯Ÿ"],
    estimatedDuration: 30,
    techniques: ["åŸºæœ¬å¡—ã‚Š", "è³ªæ„Ÿè¡¨ç¾"],
  },
  {
    stepNumber: 4,
    title: "ç´°éƒ¨ãƒ»ä»•ä¸Šã’",
    description: "å½±ãƒ»ãƒã‚¤ãƒ©ã‚¤ãƒˆãƒ»ç´°ã‹ãªè£…é£¾ãªã©ã‚’æãè¾¼ã¿ã€å…¨ä½“ã‚’ä»•ä¸Šã’ã¾ã™ã€‚",
    stepType: "details",
    tips: ["ç«‹ä½“æ„Ÿã‚’æ„è­˜", "å…¨ä½“ã®ãƒãƒ©ãƒ³ã‚¹ç¢ºèª"],
    estimatedDuration: 25,
    techniques: ["ç´°éƒ¨æå†™", "é™°å½±è¡¨ç¾", "ä»•ä¸Šã’"],
  },
];

// æŠ½è±¡ç”»ãƒ»ãã®ä»–ç”¨ã®å›ºå®šã‚¹ãƒ†ãƒƒãƒ—
const ABSTRACT_STEPS: GeneratedStep[] = [
  {
    stepNumber: 1,
    title: "ä¸‹æ›¸ããƒ»ç·šç”»",
    description:
      "ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»åƒã®å½¢çŠ¶ã¨æ¯”çŽ‡ã‚’ä¿æŒã—ãŸã¾ã¾ã€ç™½ã„èƒŒæ™¯ã«é»’ã„ç·šã ã‘ã®ç·šç”»ã«å¤‰æ›ã—ã¾ã™ã€‚",
    stepType: "lineart",
    tips: ["å…ƒç”»åƒã®æ§‹å›³ã‚’æ­£ç¢ºã«ä¿ã¤", "ç·šã®å¤ªã•ã‚’å‡ä¸€ã«ã™ã‚‹"],
    estimatedDuration: 15,
    techniques: ["ç·šç”»", "è¼ªéƒ­æå†™"],
  },
  {
    stepNumber: 2,
    title: "èƒŒæ™¯å¡—ã‚Š",
    description:
      "èƒŒæ™¯éƒ¨åˆ†ã‚’å…ƒç”»åƒã¨åŒã˜è‰²ã§å¡—ã‚Šã¾ã™ã€‚ä¸»è¦è¦ç´ ã¯ç™½é»’ç·šç”»ã®ã¾ã¾æ®‹ã—ã¾ã™ã€‚",
    stepType: "background",
    tips: ["è‰²ã®èª¿å’Œã‚’æ„è­˜", "ä¸»è¦è¦ç´ ã¯å¡—ã‚‰ãªã„"],
    estimatedDuration: 20,
    techniques: ["èƒŒæ™¯å¡—ã‚Š", "è‰²å½©è¡¨ç¾"],
  },
  {
    stepNumber: 3,
    title: "ä¸»è¦éƒ¨åˆ†å¡—ã‚Š",
    description: "ä¸»è¦ãªå½¢ã‚„è¦ç´ ã‚’å…ƒç”»åƒã¨åŒã˜è‰²ã§å¡—ã‚Šã¾ã™ã€‚",
    stepType: "main_part",
    tips: ["è‰²ã®å¯¾æ¯”ã‚’æ´»ç”¨", "ãƒãƒ©ãƒ³ã‚¹ã‚’æ„è­˜"],
    estimatedDuration: 25,
    techniques: ["åŸºæœ¬å¡—ã‚Š", "è‰²å½©è¡¨ç¾"],
  },
  {
    stepNumber: 4,
    title: "ç´°éƒ¨ãƒ»ä»•ä¸Šã’",
    description: "ç´°ã‹ãªè¦ç´ ã‚„åŠ¹æžœã‚’åŠ ãˆã¦å…¨ä½“ã‚’ä»•ä¸Šã’ã¾ã™ã€‚",
    stepType: "details",
    tips: ["å…¨ä½“ã®çµ±ä¸€æ„Ÿã‚’ç¢ºèª", "å¿…è¦ã«å¿œã˜ã¦èª¿æ•´"],
    estimatedDuration: 20,
    techniques: ["ç´°éƒ¨æå†™", "åŠ¹æžœè¡¨ç¾", "ä»•ä¸Šã’"],
  },
];

/**
 * ã‚«ãƒ†ã‚´ãƒªã«åŸºã¥ã„ã¦å›ºå®šã‚¹ãƒ†ãƒƒãƒ—ã‚’å–å¾—
 */
export function getFixedSteps(category: ImageCategory): GeneratedStep[] {
  console.log(`ðŸŽ¯ å›ºå®šã‚¹ãƒ†ãƒƒãƒ—ã‚’å–å¾—: ${category}`);

  switch (category) {
    case "portrait":
    case "character":
    case "animal":
      console.log("âœ… ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”¨å›ºå®šã‚¹ãƒ†ãƒƒãƒ—ã‚’ä½¿ç”¨");
      return CHARACTER_STEPS;

    case "landscape":
      console.log("âœ… é¢¨æ™¯ç”»ç”¨å›ºå®šã‚¹ãƒ†ãƒƒãƒ—ã‚’ä½¿ç”¨");
      return LANDSCAPE_STEPS;

    case "still_life":
    case "architecture":
      console.log("âœ… é™ç‰©ç”»ç”¨å›ºå®šã‚¹ãƒ†ãƒƒãƒ—ã‚’ä½¿ç”¨");
      return STILL_LIFE_STEPS;

    case "abstract":
    case "other":
    default:
      console.log("âœ… æŠ½è±¡ç”»ãƒ»ãã®ä»–ç”¨å›ºå®šã‚¹ãƒ†ãƒƒãƒ—ã‚’ä½¿ç”¨");
      return ABSTRACT_STEPS;
  }
}

/**
 * å›ºå®šã‚¹ãƒ†ãƒƒãƒ—ã®ç·æ™‚é–“ã‚’è¨ˆç®—
 */
export function calculateTotalTime(steps: GeneratedStep[]): number {
  return steps.reduce((total, step) => total + step.estimatedDuration, 0);
}
